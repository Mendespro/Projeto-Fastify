(this["webpackJsonpestudos-fastify-client"]=this["webpackJsonpestudos-fastify-client"]||[]).push([[0],{25:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(9),r=a.n(n),j=a(6),i=a(3),o=a(4);var l=()=>Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Bem-vindo ao Smart Campus"}),Object(o.jsx)(j.b,{to:"/usuarios",children:"Gerenciar Usu\xe1rios"}),Object(o.jsx)(j.b,{to:"/transacoes",children:"Registrar Transa\xe7\xf5es"}),Object(o.jsx)(j.b,{to:"/relatorio",children:"Gerar Relat\xf3rio"})]}),b=a(28);var h=()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)(""),[n,r]=Object(s.useState)(""),j=Object(i.r)();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Login"}),Object(o.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await b.a.post("http://localhost:3001/login",{email:e,senha:a});localStorage.setItem("token",t.data.token),j("/dashboard")}catch(s){r("Login falhou. Verifique suas credenciais.")}},children:[Object(o.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email"}),Object(o.jsx)("input",{type:"password",value:a,onChange:e=>c(e.target.value),placeholder:"Senha"}),Object(o.jsx)("button",{type:"submit",children:"Entrar"}),n&&Object(o.jsx)("p",{children:n})]})]})};a(29);var d=()=>localStorage.getItem("token")?Object(o.jsx)(i.b,{}):Object(o.jsx)(i.a,{to:"/login"});var u=function(){return Object(o.jsx)(j.a,{children:Object(o.jsxs)(i.e,{children:[Object(o.jsx)(i.c,{path:"/login",element:Object(o.jsx)(h,{})}),Object(o.jsx)(i.c,{path:"/",element:Object(o.jsx)(d,{}),children:Object(o.jsx)(i.c,{path:"/dashboard",element:Object(o.jsx)(l,{})})})]})})};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(u,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.e745d47b.chunk.js.map